{"ast":null,"code":"import { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport MaskElement from './mask-element.js';\nimport HTMLInputMaskElement from './html-input-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\nimport IMask from '../core/holder.js';\nimport './html-mask-element.js';\n/** Listens to element events and controls changes between element and {@link Masked} */\n\nclass InputMask {\n  /**\n    View element\n  */\n\n  /** Internal {@link Masked} model */\n  constructor(el, opts) {\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLInputMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n\n    this._bindEvents(); // refresh\n\n\n    this.updateValue();\n\n    this._onChange();\n  }\n\n  maskEquals(mask) {\n    var _this$masked;\n\n    return mask == null || ((_this$masked = this.masked) == null ? void 0 : _this$masked.maskEquals(mask));\n  }\n  /** Masked */\n\n\n  get mask() {\n    return this.masked.mask;\n  }\n\n  set mask(mask) {\n    if (this.maskEquals(mask)) return;\n\n    if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\n      // TODO \"any\" no idea\n      this.masked.updateOptions({\n        mask\n      });\n      return;\n    }\n\n    const masked = mask instanceof IMask.Masked ? mask : createMask({\n      mask\n    });\n    masked.unmaskedValue = this.masked.unmaskedValue;\n    this.masked = masked;\n  }\n  /** Raw value */\n\n\n  get value() {\n    return this._value;\n  }\n\n  set value(str) {\n    if (this.value === str) return;\n    this.masked.value = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n  /** Unmasked value */\n\n\n  get unmaskedValue() {\n    return this._unmaskedValue;\n  }\n\n  set unmaskedValue(str) {\n    if (this.unmaskedValue === str) return;\n    this.masked.unmaskedValue = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n  /** Typed unmasked value */\n\n\n  get typedValue() {\n    return this.masked.typedValue;\n  }\n\n  set typedValue(val) {\n    if (this.masked.typedValueEquals(val)) return;\n    this.masked.typedValue = val;\n    this.updateControl();\n    this.alignCursor();\n  }\n  /** Display value */\n\n\n  get displayValue() {\n    return this.masked.displayValue;\n  }\n  /** Starts listening to element events */\n\n\n  _bindEvents() {\n    this.el.bindEvents({\n      selectionChange: this._saveSelection,\n      input: this._onInput,\n      drop: this._onDrop,\n      click: this._onClick,\n      focus: this._onFocus,\n      commit: this._onChange\n    });\n  }\n  /** Stops listening to element events */\n\n\n  _unbindEvents() {\n    if (this.el) this.el.unbindEvents();\n  }\n  /** Fires custom event */\n\n\n  _fireEvent(ev, e) {\n    const listeners = this._listeners[ev];\n    if (!listeners) return;\n    listeners.forEach(l => l(e));\n  }\n  /** Current selection start */\n\n\n  get selectionStart() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n  }\n  /** Current cursor position */\n\n\n  get cursorPos() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n  }\n\n  set cursorPos(pos) {\n    if (!this.el || !this.el.isActive) return;\n    this.el.select(pos, pos);\n\n    this._saveSelection();\n  }\n  /** Stores current selection */\n\n\n  _saveSelection() {\n    if (this.displayValue !== this.el.value) {\n      console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n    }\n\n    this._selection = {\n      start: this.selectionStart,\n      end: this.cursorPos\n    };\n  }\n  /** Syncronizes model value from view */\n\n\n  updateValue() {\n    this.masked.value = this.el.value;\n    this._value = this.masked.value;\n  }\n  /** Syncronizes view from model value, fires change events */\n\n\n  updateControl() {\n    const newUnmaskedValue = this.masked.unmaskedValue;\n    const newValue = this.masked.value;\n    const newDisplayValue = this.displayValue;\n    const isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n    this._unmaskedValue = newUnmaskedValue;\n    this._value = newValue;\n    if (this.el.value !== newDisplayValue) this.el.value = newDisplayValue;\n    if (isChanged) this._fireChangeEvents();\n  }\n  /** Updates options with deep equal check, recreates {@link Masked} model if mask type changes */\n\n\n  updateOptions(opts) {\n    const {\n      mask,\n      ...restOpts\n    } = opts;\n    const updateMask = !this.maskEquals(mask);\n    const updateOpts = !objectIncludes(this.masked, restOpts);\n    if (updateMask) this.mask = mask;\n    if (updateOpts) this.masked.updateOptions(restOpts); // TODO\n\n    if (updateMask || updateOpts) this.updateControl();\n  }\n  /** Updates cursor */\n\n\n  updateCursor(cursorPos) {\n    if (cursorPos == null) return;\n    this.cursorPos = cursorPos; // also queue change cursor for mobile browsers\n\n    this._delayUpdateCursor(cursorPos);\n  }\n  /** Delays cursor update to support mobile browsers */\n\n\n  _delayUpdateCursor(cursorPos) {\n    this._abortUpdateCursor();\n\n    this._changingCursorPos = cursorPos;\n    this._cursorChanging = setTimeout(() => {\n      if (!this.el) return; // if was destroyed\n\n      this.cursorPos = this._changingCursorPos;\n\n      this._abortUpdateCursor();\n    }, 10);\n  }\n  /** Fires custom events */\n\n\n  _fireChangeEvents() {\n    this._fireEvent('accept', this._inputEvent);\n\n    if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n  }\n  /** Aborts delayed cursor update */\n\n\n  _abortUpdateCursor() {\n    if (this._cursorChanging) {\n      clearTimeout(this._cursorChanging);\n      delete this._cursorChanging;\n    }\n  }\n  /** Aligns cursor to nearest available position */\n\n\n  alignCursor() {\n    this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT));\n  }\n  /** Aligns cursor only if selection is empty */\n\n\n  alignCursorFriendly() {\n    if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n\n    this.alignCursor();\n  }\n  /** Adds listener on custom event */\n\n\n  on(ev, handler) {\n    if (!this._listeners[ev]) this._listeners[ev] = [];\n\n    this._listeners[ev].push(handler);\n\n    return this;\n  }\n  /** Removes custom event listener */\n\n\n  off(ev, handler) {\n    if (!this._listeners[ev]) return this;\n\n    if (!handler) {\n      delete this._listeners[ev];\n      return this;\n    }\n\n    const hIndex = this._listeners[ev].indexOf(handler);\n\n    if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n    return this;\n  }\n  /** Handles view input event */\n\n\n  _onInput(e) {\n    this._inputEvent = e;\n\n    this._abortUpdateCursor(); // fix strange IE behavior\n\n\n    if (!this._selection) return this.updateValue();\n    const details = new ActionDetails({\n      // new state\n      value: this.el.value,\n      cursorPos: this.cursorPos,\n      // old state\n      oldValue: this.displayValue,\n      oldSelection: this._selection\n    });\n    const oldRawValue = this.masked.rawInputValue;\n    const offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\n      input: true,\n      raw: true\n    }).offset; // force align in remove direction only if no input chars were removed\n    // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n\n    const removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n    let cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n    if (removeDirection !== DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, DIRECTION.NONE);\n    this.updateControl();\n    this.updateCursor(cursorPos);\n    delete this._inputEvent;\n  }\n  /** Handles view change event and commits model value */\n\n\n  _onChange() {\n    if (this.displayValue !== this.el.value) {\n      this.updateValue();\n    }\n\n    this.masked.doCommit();\n    this.updateControl();\n\n    this._saveSelection();\n  }\n  /** Handles view drop event, prevents by default */\n\n\n  _onDrop(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n  /** Restore last selection on focus */\n\n\n  _onFocus(ev) {\n    this.alignCursorFriendly();\n  }\n  /** Restore last selection on focus */\n\n\n  _onClick(ev) {\n    this.alignCursorFriendly();\n  }\n  /** Unbind view events and removes element reference */\n\n\n  destroy() {\n    this._unbindEvents();\n\n    this._listeners.length = 0;\n    delete this.el;\n  }\n\n}\n\nIMask.InputMask = InputMask;\nexport { InputMask as default };","map":{"version":3,"names":["objectIncludes","DIRECTION","ActionDetails","createMask","maskedClass","MaskElement","HTMLInputMaskElement","HTMLContenteditableMaskElement","IMask","InputMask","constructor","el","opts","isContentEditable","tagName","masked","_listeners","_value","_unmaskedValue","_saveSelection","bind","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","maskEquals","mask","_this$masked","Masked","updateOptions","unmaskedValue","value","str","updateControl","typedValue","val","typedValueEquals","displayValue","bindEvents","selectionChange","input","drop","click","focus","commit","_unbindEvents","unbindEvents","_fireEvent","ev","e","listeners","forEach","l","selectionStart","_cursorChanging","_changingCursorPos","cursorPos","selectionEnd","pos","isActive","select","console","warn","_selection","start","end","newUnmaskedValue","newValue","newDisplayValue","isChanged","_fireChangeEvents","restOpts","updateMask","updateOpts","updateCursor","_delayUpdateCursor","_abortUpdateCursor","setTimeout","_inputEvent","isComplete","clearTimeout","nearestInputPos","LEFT","on","handler","push","off","hIndex","indexOf","splice","details","oldValue","oldSelection","oldRawValue","rawInputValue","offset","startChangePos","removed","length","inserted","removeDirection","raw","NONE","doCommit","preventDefault","stopPropagation","destroy","default"],"sources":["/home/eduardo/Repositorios/desafio-junior-1/petshop-front-end/node_modules/imask/esm/controls/input.js"],"sourcesContent":["import { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport MaskElement from './mask-element.js';\nimport HTMLInputMaskElement from './html-input-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\nimport IMask from '../core/holder.js';\nimport './html-mask-element.js';\n\n/** Listens to element events and controls changes between element and {@link Masked} */\nclass InputMask {\n  /**\n    View element\n  */\n\n  /** Internal {@link Masked} model */\n\n  constructor(el, opts) {\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLInputMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n    this._bindEvents();\n\n    // refresh\n    this.updateValue();\n    this._onChange();\n  }\n  maskEquals(mask) {\n    var _this$masked;\n    return mask == null || ((_this$masked = this.masked) == null ? void 0 : _this$masked.maskEquals(mask));\n  }\n\n  /** Masked */\n  get mask() {\n    return this.masked.mask;\n  }\n  set mask(mask) {\n    if (this.maskEquals(mask)) return;\n    if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\n      // TODO \"any\" no idea\n      this.masked.updateOptions({\n        mask\n      });\n      return;\n    }\n    const masked = mask instanceof IMask.Masked ? mask : createMask({\n      mask\n    });\n    masked.unmaskedValue = this.masked.unmaskedValue;\n    this.masked = masked;\n  }\n\n  /** Raw value */\n  get value() {\n    return this._value;\n  }\n  set value(str) {\n    if (this.value === str) return;\n    this.masked.value = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Unmasked value */\n  get unmaskedValue() {\n    return this._unmaskedValue;\n  }\n  set unmaskedValue(str) {\n    if (this.unmaskedValue === str) return;\n    this.masked.unmaskedValue = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Typed unmasked value */\n  get typedValue() {\n    return this.masked.typedValue;\n  }\n  set typedValue(val) {\n    if (this.masked.typedValueEquals(val)) return;\n    this.masked.typedValue = val;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Display value */\n  get displayValue() {\n    return this.masked.displayValue;\n  }\n\n  /** Starts listening to element events */\n  _bindEvents() {\n    this.el.bindEvents({\n      selectionChange: this._saveSelection,\n      input: this._onInput,\n      drop: this._onDrop,\n      click: this._onClick,\n      focus: this._onFocus,\n      commit: this._onChange\n    });\n  }\n\n  /** Stops listening to element events */\n  _unbindEvents() {\n    if (this.el) this.el.unbindEvents();\n  }\n\n  /** Fires custom event */\n  _fireEvent(ev, e) {\n    const listeners = this._listeners[ev];\n    if (!listeners) return;\n    listeners.forEach(l => l(e));\n  }\n\n  /** Current selection start */\n  get selectionStart() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n  }\n\n  /** Current cursor position */\n  get cursorPos() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n  }\n  set cursorPos(pos) {\n    if (!this.el || !this.el.isActive) return;\n    this.el.select(pos, pos);\n    this._saveSelection();\n  }\n\n  /** Stores current selection */\n  _saveSelection( /* ev */\n  ) {\n    if (this.displayValue !== this.el.value) {\n      console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n    }\n\n    this._selection = {\n      start: this.selectionStart,\n      end: this.cursorPos\n    };\n  }\n\n  /** Syncronizes model value from view */\n  updateValue() {\n    this.masked.value = this.el.value;\n    this._value = this.masked.value;\n  }\n\n  /** Syncronizes view from model value, fires change events */\n  updateControl() {\n    const newUnmaskedValue = this.masked.unmaskedValue;\n    const newValue = this.masked.value;\n    const newDisplayValue = this.displayValue;\n    const isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n    this._unmaskedValue = newUnmaskedValue;\n    this._value = newValue;\n    if (this.el.value !== newDisplayValue) this.el.value = newDisplayValue;\n    if (isChanged) this._fireChangeEvents();\n  }\n\n  /** Updates options with deep equal check, recreates {@link Masked} model if mask type changes */\n  updateOptions(opts) {\n    const {\n      mask,\n      ...restOpts\n    } = opts;\n    const updateMask = !this.maskEquals(mask);\n    const updateOpts = !objectIncludes(this.masked, restOpts);\n    if (updateMask) this.mask = mask;\n    if (updateOpts) this.masked.updateOptions(restOpts); // TODO\n\n    if (updateMask || updateOpts) this.updateControl();\n  }\n\n  /** Updates cursor */\n  updateCursor(cursorPos) {\n    if (cursorPos == null) return;\n    this.cursorPos = cursorPos;\n\n    // also queue change cursor for mobile browsers\n    this._delayUpdateCursor(cursorPos);\n  }\n\n  /** Delays cursor update to support mobile browsers */\n  _delayUpdateCursor(cursorPos) {\n    this._abortUpdateCursor();\n    this._changingCursorPos = cursorPos;\n    this._cursorChanging = setTimeout(() => {\n      if (!this.el) return; // if was destroyed\n      this.cursorPos = this._changingCursorPos;\n      this._abortUpdateCursor();\n    }, 10);\n  }\n\n  /** Fires custom events */\n  _fireChangeEvents() {\n    this._fireEvent('accept', this._inputEvent);\n    if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n  }\n\n  /** Aborts delayed cursor update */\n  _abortUpdateCursor() {\n    if (this._cursorChanging) {\n      clearTimeout(this._cursorChanging);\n      delete this._cursorChanging;\n    }\n  }\n\n  /** Aligns cursor to nearest available position */\n  alignCursor() {\n    this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT));\n  }\n\n  /** Aligns cursor only if selection is empty */\n  alignCursorFriendly() {\n    if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n    this.alignCursor();\n  }\n\n  /** Adds listener on custom event */\n  on(ev, handler) {\n    if (!this._listeners[ev]) this._listeners[ev] = [];\n    this._listeners[ev].push(handler);\n    return this;\n  }\n\n  /** Removes custom event listener */\n  off(ev, handler) {\n    if (!this._listeners[ev]) return this;\n    if (!handler) {\n      delete this._listeners[ev];\n      return this;\n    }\n    const hIndex = this._listeners[ev].indexOf(handler);\n    if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n    return this;\n  }\n\n  /** Handles view input event */\n  _onInput(e) {\n    this._inputEvent = e;\n    this._abortUpdateCursor();\n\n    // fix strange IE behavior\n    if (!this._selection) return this.updateValue();\n    const details = new ActionDetails({\n      // new state\n      value: this.el.value,\n      cursorPos: this.cursorPos,\n      // old state\n      oldValue: this.displayValue,\n      oldSelection: this._selection\n    });\n    const oldRawValue = this.masked.rawInputValue;\n    const offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\n      input: true,\n      raw: true\n    }).offset;\n\n    // force align in remove direction only if no input chars were removed\n    // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n    const removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n    let cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n    if (removeDirection !== DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, DIRECTION.NONE);\n    this.updateControl();\n    this.updateCursor(cursorPos);\n    delete this._inputEvent;\n  }\n\n  /** Handles view change event and commits model value */\n  _onChange() {\n    if (this.displayValue !== this.el.value) {\n      this.updateValue();\n    }\n    this.masked.doCommit();\n    this.updateControl();\n    this._saveSelection();\n  }\n\n  /** Handles view drop event, prevents by default */\n  _onDrop(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  /** Restore last selection on focus */\n  _onFocus(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Restore last selection on focus */\n  _onClick(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Unbind view events and removes element reference */\n  destroy() {\n    this._unbindEvents();\n    this._listeners.length = 0;\n    delete this.el;\n  }\n}\nIMask.InputMask = InputMask;\n\nexport { InputMask as default };\n"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,SAAzB,QAA0C,kBAA1C;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,UAAP,IAAqBC,WAArB,QAAwC,sBAAxC;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,oBAAP,MAAiC,8BAAjC;AACA,OAAOC,8BAAP,MAA2C,wCAA3C;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAO,wBAAP;AAEA;;AACA,MAAMC,SAAN,CAAgB;EACd;AACF;AACA;;EAEE;EAEAC,WAAW,CAACC,EAAD,EAAKC,IAAL,EAAW;IACpB,KAAKD,EAAL,GAAUA,EAAE,YAAYN,WAAd,GAA4BM,EAA5B,GAAiCA,EAAE,CAACE,iBAAH,IAAwBF,EAAE,CAACG,OAAH,KAAe,OAAvC,IAAkDH,EAAE,CAACG,OAAH,KAAe,UAAjE,GAA8E,IAAIP,8BAAJ,CAAmCI,EAAnC,CAA9E,GAAuH,IAAIL,oBAAJ,CAAyBK,EAAzB,CAAlK;IACA,KAAKI,MAAL,GAAcZ,UAAU,CAACS,IAAD,CAAxB;IACA,KAAKI,UAAL,GAAkB,EAAlB;IACA,KAAKC,MAAL,GAAc,EAAd;IACA,KAAKC,cAAL,GAAsB,EAAtB;IACA,KAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;IACA,KAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;IACA,KAAKE,SAAL,GAAiB,KAAKA,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjB;IACA,KAAKG,OAAL,GAAe,KAAKA,OAAL,CAAaH,IAAb,CAAkB,IAAlB,CAAf;IACA,KAAKI,QAAL,GAAgB,KAAKA,QAAL,CAAcJ,IAAd,CAAmB,IAAnB,CAAhB;IACA,KAAKK,QAAL,GAAgB,KAAKA,QAAL,CAAcL,IAAd,CAAmB,IAAnB,CAAhB;IACA,KAAKM,WAAL,GAAmB,KAAKA,WAAL,CAAiBN,IAAjB,CAAsB,IAAtB,CAAnB;IACA,KAAKO,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBP,IAAzB,CAA8B,IAA9B,CAA3B;;IACA,KAAKQ,WAAL,GAdoB,CAgBpB;;;IACA,KAAKC,WAAL;;IACA,KAAKP,SAAL;EACD;;EACDQ,UAAU,CAACC,IAAD,EAAO;IACf,IAAIC,YAAJ;;IACA,OAAOD,IAAI,IAAI,IAAR,KAAiB,CAACC,YAAY,GAAG,KAAKjB,MAArB,KAAgC,IAAhC,GAAuC,KAAK,CAA5C,GAAgDiB,YAAY,CAACF,UAAb,CAAwBC,IAAxB,CAAjE,CAAP;EACD;EAED;;;EACQ,IAAJA,IAAI,GAAG;IACT,OAAO,KAAKhB,MAAL,CAAYgB,IAAnB;EACD;;EACO,IAAJA,IAAI,CAACA,IAAD,EAAO;IACb,IAAI,KAAKD,UAAL,CAAgBC,IAAhB,CAAJ,EAA2B;;IAC3B,IAAI,EAAEA,IAAI,YAAYvB,KAAK,CAACyB,MAAxB,KAAmC,KAAKlB,MAAL,CAAYL,WAAZ,KAA4BN,WAAW,CAAC2B,IAAD,CAA9E,EAAsF;MACpF;MACA,KAAKhB,MAAL,CAAYmB,aAAZ,CAA0B;QACxBH;MADwB,CAA1B;MAGA;IACD;;IACD,MAAMhB,MAAM,GAAGgB,IAAI,YAAYvB,KAAK,CAACyB,MAAtB,GAA+BF,IAA/B,GAAsC5B,UAAU,CAAC;MAC9D4B;IAD8D,CAAD,CAA/D;IAGAhB,MAAM,CAACoB,aAAP,GAAuB,KAAKpB,MAAL,CAAYoB,aAAnC;IACA,KAAKpB,MAAL,GAAcA,MAAd;EACD;EAED;;;EACS,IAALqB,KAAK,GAAG;IACV,OAAO,KAAKnB,MAAZ;EACD;;EACQ,IAALmB,KAAK,CAACC,GAAD,EAAM;IACb,IAAI,KAAKD,KAAL,KAAeC,GAAnB,EAAwB;IACxB,KAAKtB,MAAL,CAAYqB,KAAZ,GAAoBC,GAApB;IACA,KAAKC,aAAL;IACA,KAAKZ,WAAL;EACD;EAED;;;EACiB,IAAbS,aAAa,GAAG;IAClB,OAAO,KAAKjB,cAAZ;EACD;;EACgB,IAAbiB,aAAa,CAACE,GAAD,EAAM;IACrB,IAAI,KAAKF,aAAL,KAAuBE,GAA3B,EAAgC;IAChC,KAAKtB,MAAL,CAAYoB,aAAZ,GAA4BE,GAA5B;IACA,KAAKC,aAAL;IACA,KAAKZ,WAAL;EACD;EAED;;;EACc,IAAVa,UAAU,GAAG;IACf,OAAO,KAAKxB,MAAL,CAAYwB,UAAnB;EACD;;EACa,IAAVA,UAAU,CAACC,GAAD,EAAM;IAClB,IAAI,KAAKzB,MAAL,CAAY0B,gBAAZ,CAA6BD,GAA7B,CAAJ,EAAuC;IACvC,KAAKzB,MAAL,CAAYwB,UAAZ,GAAyBC,GAAzB;IACA,KAAKF,aAAL;IACA,KAAKZ,WAAL;EACD;EAED;;;EACgB,IAAZgB,YAAY,GAAG;IACjB,OAAO,KAAK3B,MAAL,CAAY2B,YAAnB;EACD;EAED;;;EACAd,WAAW,GAAG;IACZ,KAAKjB,EAAL,CAAQgC,UAAR,CAAmB;MACjBC,eAAe,EAAE,KAAKzB,cADL;MAEjB0B,KAAK,EAAE,KAAKxB,QAFK;MAGjByB,IAAI,EAAE,KAAKvB,OAHM;MAIjBwB,KAAK,EAAE,KAAKtB,QAJK;MAKjBuB,KAAK,EAAE,KAAKxB,QALK;MAMjByB,MAAM,EAAE,KAAK3B;IANI,CAAnB;EAQD;EAED;;;EACA4B,aAAa,GAAG;IACd,IAAI,KAAKvC,EAAT,EAAa,KAAKA,EAAL,CAAQwC,YAAR;EACd;EAED;;;EACAC,UAAU,CAACC,EAAD,EAAKC,CAAL,EAAQ;IAChB,MAAMC,SAAS,GAAG,KAAKvC,UAAL,CAAgBqC,EAAhB,CAAlB;IACA,IAAI,CAACE,SAAL,EAAgB;IAChBA,SAAS,CAACC,OAAV,CAAkBC,CAAC,IAAIA,CAAC,CAACH,CAAD,CAAxB;EACD;EAED;;;EACkB,IAAdI,cAAc,GAAG;IACnB,OAAO,KAAKC,eAAL,GAAuB,KAAKC,kBAA5B,GAAiD,KAAKjD,EAAL,CAAQ+C,cAAhE;EACD;EAED;;;EACa,IAATG,SAAS,GAAG;IACd,OAAO,KAAKF,eAAL,GAAuB,KAAKC,kBAA5B,GAAiD,KAAKjD,EAAL,CAAQmD,YAAhE;EACD;;EACY,IAATD,SAAS,CAACE,GAAD,EAAM;IACjB,IAAI,CAAC,KAAKpD,EAAN,IAAY,CAAC,KAAKA,EAAL,CAAQqD,QAAzB,EAAmC;IACnC,KAAKrD,EAAL,CAAQsD,MAAR,CAAeF,GAAf,EAAoBA,GAApB;;IACA,KAAK5C,cAAL;EACD;EAED;;;EACAA,cAAc,GACZ;IACA,IAAI,KAAKuB,YAAL,KAAsB,KAAK/B,EAAL,CAAQyB,KAAlC,EAAyC;MACvC8B,OAAO,CAACC,IAAR,CAAa,yGAAb,EADuC,CACkF;IAC1H;;IAED,KAAKC,UAAL,GAAkB;MAChBC,KAAK,EAAE,KAAKX,cADI;MAEhBY,GAAG,EAAE,KAAKT;IAFM,CAAlB;EAID;EAED;;;EACAhC,WAAW,GAAG;IACZ,KAAKd,MAAL,CAAYqB,KAAZ,GAAoB,KAAKzB,EAAL,CAAQyB,KAA5B;IACA,KAAKnB,MAAL,GAAc,KAAKF,MAAL,CAAYqB,KAA1B;EACD;EAED;;;EACAE,aAAa,GAAG;IACd,MAAMiC,gBAAgB,GAAG,KAAKxD,MAAL,CAAYoB,aAArC;IACA,MAAMqC,QAAQ,GAAG,KAAKzD,MAAL,CAAYqB,KAA7B;IACA,MAAMqC,eAAe,GAAG,KAAK/B,YAA7B;IACA,MAAMgC,SAAS,GAAG,KAAKvC,aAAL,KAAuBoC,gBAAvB,IAA2C,KAAKnC,KAAL,KAAeoC,QAA5E;IACA,KAAKtD,cAAL,GAAsBqD,gBAAtB;IACA,KAAKtD,MAAL,GAAcuD,QAAd;IACA,IAAI,KAAK7D,EAAL,CAAQyB,KAAR,KAAkBqC,eAAtB,EAAuC,KAAK9D,EAAL,CAAQyB,KAAR,GAAgBqC,eAAhB;IACvC,IAAIC,SAAJ,EAAe,KAAKC,iBAAL;EAChB;EAED;;;EACAzC,aAAa,CAACtB,IAAD,EAAO;IAClB,MAAM;MACJmB,IADI;MAEJ,GAAG6C;IAFC,IAGFhE,IAHJ;IAIA,MAAMiE,UAAU,GAAG,CAAC,KAAK/C,UAAL,CAAgBC,IAAhB,CAApB;IACA,MAAM+C,UAAU,GAAG,CAAC9E,cAAc,CAAC,KAAKe,MAAN,EAAc6D,QAAd,CAAlC;IACA,IAAIC,UAAJ,EAAgB,KAAK9C,IAAL,GAAYA,IAAZ;IAChB,IAAI+C,UAAJ,EAAgB,KAAK/D,MAAL,CAAYmB,aAAZ,CAA0B0C,QAA1B,EARE,CAQmC;;IAErD,IAAIC,UAAU,IAAIC,UAAlB,EAA8B,KAAKxC,aAAL;EAC/B;EAED;;;EACAyC,YAAY,CAAClB,SAAD,EAAY;IACtB,IAAIA,SAAS,IAAI,IAAjB,EAAuB;IACvB,KAAKA,SAAL,GAAiBA,SAAjB,CAFsB,CAItB;;IACA,KAAKmB,kBAAL,CAAwBnB,SAAxB;EACD;EAED;;;EACAmB,kBAAkB,CAACnB,SAAD,EAAY;IAC5B,KAAKoB,kBAAL;;IACA,KAAKrB,kBAAL,GAA0BC,SAA1B;IACA,KAAKF,eAAL,GAAuBuB,UAAU,CAAC,MAAM;MACtC,IAAI,CAAC,KAAKvE,EAAV,EAAc,OADwB,CAChB;;MACtB,KAAKkD,SAAL,GAAiB,KAAKD,kBAAtB;;MACA,KAAKqB,kBAAL;IACD,CAJgC,EAI9B,EAJ8B,CAAjC;EAKD;EAED;;;EACAN,iBAAiB,GAAG;IAClB,KAAKvB,UAAL,CAAgB,QAAhB,EAA0B,KAAK+B,WAA/B;;IACA,IAAI,KAAKpE,MAAL,CAAYqE,UAAhB,EAA4B,KAAKhC,UAAL,CAAgB,UAAhB,EAA4B,KAAK+B,WAAjC;EAC7B;EAED;;;EACAF,kBAAkB,GAAG;IACnB,IAAI,KAAKtB,eAAT,EAA0B;MACxB0B,YAAY,CAAC,KAAK1B,eAAN,CAAZ;MACA,OAAO,KAAKA,eAAZ;IACD;EACF;EAED;;;EACAjC,WAAW,GAAG;IACZ,KAAKmC,SAAL,GAAiB,KAAK9C,MAAL,CAAYuE,eAAZ,CAA4B,KAAKvE,MAAL,CAAYuE,eAAZ,CAA4B,KAAKzB,SAAjC,EAA4C5D,SAAS,CAACsF,IAAtD,CAA5B,CAAjB;EACD;EAED;;;EACA5D,mBAAmB,GAAG;IACpB,IAAI,KAAK+B,cAAL,KAAwB,KAAKG,SAAjC,EAA4C,OADxB,CACgC;;IACpD,KAAKnC,WAAL;EACD;EAED;;;EACA8D,EAAE,CAACnC,EAAD,EAAKoC,OAAL,EAAc;IACd,IAAI,CAAC,KAAKzE,UAAL,CAAgBqC,EAAhB,CAAL,EAA0B,KAAKrC,UAAL,CAAgBqC,EAAhB,IAAsB,EAAtB;;IAC1B,KAAKrC,UAAL,CAAgBqC,EAAhB,EAAoBqC,IAApB,CAAyBD,OAAzB;;IACA,OAAO,IAAP;EACD;EAED;;;EACAE,GAAG,CAACtC,EAAD,EAAKoC,OAAL,EAAc;IACf,IAAI,CAAC,KAAKzE,UAAL,CAAgBqC,EAAhB,CAAL,EAA0B,OAAO,IAAP;;IAC1B,IAAI,CAACoC,OAAL,EAAc;MACZ,OAAO,KAAKzE,UAAL,CAAgBqC,EAAhB,CAAP;MACA,OAAO,IAAP;IACD;;IACD,MAAMuC,MAAM,GAAG,KAAK5E,UAAL,CAAgBqC,EAAhB,EAAoBwC,OAApB,CAA4BJ,OAA5B,CAAf;;IACA,IAAIG,MAAM,IAAI,CAAd,EAAiB,KAAK5E,UAAL,CAAgBqC,EAAhB,EAAoByC,MAApB,CAA2BF,MAA3B,EAAmC,CAAnC;IACjB,OAAO,IAAP;EACD;EAED;;;EACAvE,QAAQ,CAACiC,CAAD,EAAI;IACV,KAAK6B,WAAL,GAAmB7B,CAAnB;;IACA,KAAK2B,kBAAL,GAFU,CAIV;;;IACA,IAAI,CAAC,KAAKb,UAAV,EAAsB,OAAO,KAAKvC,WAAL,EAAP;IACtB,MAAMkE,OAAO,GAAG,IAAI7F,aAAJ,CAAkB;MAChC;MACAkC,KAAK,EAAE,KAAKzB,EAAL,CAAQyB,KAFiB;MAGhCyB,SAAS,EAAE,KAAKA,SAHgB;MAIhC;MACAmC,QAAQ,EAAE,KAAKtD,YALiB;MAMhCuD,YAAY,EAAE,KAAK7B;IANa,CAAlB,CAAhB;IAQA,MAAM8B,WAAW,GAAG,KAAKnF,MAAL,CAAYoF,aAAhC;IACA,MAAMC,MAAM,GAAG,KAAKrF,MAAL,CAAY+E,MAAZ,CAAmBC,OAAO,CAACM,cAA3B,EAA2CN,OAAO,CAACO,OAAR,CAAgBC,MAA3D,EAAmER,OAAO,CAACS,QAA3E,EAAqFT,OAAO,CAACU,eAA7F,EAA8G;MAC3H5D,KAAK,EAAE,IADoH;MAE3H6D,GAAG,EAAE;IAFsH,CAA9G,EAGZN,MAHH,CAfU,CAoBV;IACA;;IACA,MAAMK,eAAe,GAAGP,WAAW,KAAK,KAAKnF,MAAL,CAAYoF,aAA5B,GAA4CJ,OAAO,CAACU,eAApD,GAAsExG,SAAS,CAAC0G,IAAxG;IACA,IAAI9C,SAAS,GAAG,KAAK9C,MAAL,CAAYuE,eAAZ,CAA4BS,OAAO,CAACM,cAAR,GAAyBD,MAArD,EAA6DK,eAA7D,CAAhB;IACA,IAAIA,eAAe,KAAKxG,SAAS,CAAC0G,IAAlC,EAAwC9C,SAAS,GAAG,KAAK9C,MAAL,CAAYuE,eAAZ,CAA4BzB,SAA5B,EAAuC5D,SAAS,CAAC0G,IAAjD,CAAZ;IACxC,KAAKrE,aAAL;IACA,KAAKyC,YAAL,CAAkBlB,SAAlB;IACA,OAAO,KAAKsB,WAAZ;EACD;EAED;;;EACA7D,SAAS,GAAG;IACV,IAAI,KAAKoB,YAAL,KAAsB,KAAK/B,EAAL,CAAQyB,KAAlC,EAAyC;MACvC,KAAKP,WAAL;IACD;;IACD,KAAKd,MAAL,CAAY6F,QAAZ;IACA,KAAKtE,aAAL;;IACA,KAAKnB,cAAL;EACD;EAED;;;EACAI,OAAO,CAAC8B,EAAD,EAAK;IACVA,EAAE,CAACwD,cAAH;IACAxD,EAAE,CAACyD,eAAH;EACD;EAED;;;EACAtF,QAAQ,CAAC6B,EAAD,EAAK;IACX,KAAK1B,mBAAL;EACD;EAED;;;EACAF,QAAQ,CAAC4B,EAAD,EAAK;IACX,KAAK1B,mBAAL;EACD;EAED;;;EACAoF,OAAO,GAAG;IACR,KAAK7D,aAAL;;IACA,KAAKlC,UAAL,CAAgBuF,MAAhB,GAAyB,CAAzB;IACA,OAAO,KAAK5F,EAAZ;EACD;;AA5Sa;;AA8ShBH,KAAK,CAACC,SAAN,GAAkBA,SAAlB;AAEA,SAASA,SAAS,IAAIuG,OAAtB"},"metadata":{},"sourceType":"module"}