{"ast":null,"code":"import IMask from 'imask/esm/imask';\nimport { useRef, useState, useCallback, useEffect } from 'react';\n\nfunction useIMask(opts, _temp) {\n  let {\n    onAccept,\n    onComplete\n  } = _temp === void 0 ? {} : _temp;\n  const ref = useRef(null);\n  const maskRef = useRef(null);\n  const [initialized, setInitialized] = useState(false);\n  const [lastAcceptState, setLastAcceptState] = useState({});\n  const [value, setValue] = useState('');\n  const [unmaskedValue, setUnmaskedValue] = useState('');\n  const [typedValue, setTypedValue] = useState();\n\n  const _destroyMask = useCallback(() => {\n    var _maskRef$current;\n\n    if (!initialized) return;\n    (_maskRef$current = maskRef.current) == null ? void 0 : _maskRef$current.destroy();\n    maskRef.current = null;\n  }, []);\n\n  const _onAccept = useCallback(event => {\n    const m = maskRef.current;\n    if (!m) return;\n    setLastAcceptState({\n      value: m.value,\n      unmaskedValue: m.unmaskedValue,\n      typedValue: m.typedValue\n    });\n    setTypedValue(m.typedValue);\n    setUnmaskedValue(m.unmaskedValue);\n    setValue(m.value);\n    onAccept == null ? void 0 : onAccept(m.value, m, event);\n  }, [onAccept]);\n\n  const _onComplete = useCallback(() => maskRef.current && (onComplete == null ? void 0 : onComplete(maskRef.current.value, maskRef.current)), [onComplete]);\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el || !(opts != null && opts.mask)) return _destroyMask();\n    const mask = maskRef.current;\n\n    if (!mask) {\n      if (el && opts != null && opts.mask) {\n        maskRef.current = IMask(el, opts);\n\n        _onAccept();\n      }\n    } else {\n      mask == null ? void 0 : mask.updateOptions(opts); // TODO fix no idea\n    }\n\n    setInitialized(Boolean(maskRef.current));\n  }, [opts, _destroyMask, _onAccept]);\n  useEffect(() => {\n    if (!maskRef.current) return;\n    const mask = maskRef.current;\n    mask.on('accept', _onAccept);\n    mask.on('complete', _onComplete);\n    return () => {\n      mask.off('accept', _onAccept);\n      mask.off('complete', _onComplete);\n    };\n  }, [_onAccept, _onComplete]);\n  useEffect(() => {\n    const {\n      value: lastAcceptValue,\n      ...state\n    } = lastAcceptState;\n    const mask = maskRef.current;\n\n    if (mask && initialized) {\n      if (lastAcceptValue !== value) mask.value = value;\n      setLastAcceptState(state);\n    }\n  }, [value]);\n  useEffect(() => {\n    const {\n      unmaskedValue: lastAcceptUnmaskedValue,\n      ...state\n    } = lastAcceptState;\n    const mask = maskRef.current;\n\n    if (mask && initialized) {\n      if (lastAcceptUnmaskedValue !== unmaskedValue) mask.unmaskedValue = unmaskedValue;\n      setLastAcceptState(state);\n    }\n  }, [unmaskedValue]);\n  useEffect(() => {\n    const {\n      typedValue: lastAcceptTypedValue,\n      ...state\n    } = lastAcceptState;\n    const mask = maskRef.current;\n\n    if (mask && initialized) {\n      if (lastAcceptTypedValue !== typedValue) mask.typedValue = typedValue;\n      setLastAcceptState(state);\n    }\n  }, [typedValue]);\n  useEffect(() => _destroyMask, [_destroyMask]);\n  return {\n    ref,\n    maskRef,\n    value,\n    setValue,\n    unmaskedValue,\n    setUnmaskedValue,\n    typedValue,\n    setTypedValue\n  };\n}\n\nexport { useIMask as default };","map":{"version":3,"names":["IMask","useRef","useState","useCallback","useEffect","useIMask","opts","_temp","onAccept","onComplete","ref","maskRef","initialized","setInitialized","lastAcceptState","setLastAcceptState","value","setValue","unmaskedValue","setUnmaskedValue","typedValue","setTypedValue","_destroyMask","_maskRef$current","current","destroy","_onAccept","event","m","_onComplete","el","mask","updateOptions","Boolean","on","off","lastAcceptValue","state","lastAcceptUnmaskedValue","lastAcceptTypedValue","default"],"sources":["/home/eduardo/Repositorios/desafio-junior-1/petshop-front-end/node_modules/react-imask/esm/hook.js"],"sourcesContent":["import IMask from 'imask/esm/imask';\nimport { useRef, useState, useCallback, useEffect } from 'react';\n\nfunction useIMask(opts, _temp) {\n  let {\n    onAccept,\n    onComplete\n  } = _temp === void 0 ? {} : _temp;\n  const ref = useRef(null);\n  const maskRef = useRef(null);\n  const [initialized, setInitialized] = useState(false);\n  const [lastAcceptState, setLastAcceptState] = useState({});\n  const [value, setValue] = useState('');\n  const [unmaskedValue, setUnmaskedValue] = useState('');\n  const [typedValue, setTypedValue] = useState();\n  const _destroyMask = useCallback(() => {\n    var _maskRef$current;\n    if (!initialized) return;\n    (_maskRef$current = maskRef.current) == null ? void 0 : _maskRef$current.destroy();\n    maskRef.current = null;\n  }, []);\n  const _onAccept = useCallback(event => {\n    const m = maskRef.current;\n    if (!m) return;\n    setLastAcceptState({\n      value: m.value,\n      unmaskedValue: m.unmaskedValue,\n      typedValue: m.typedValue\n    });\n    setTypedValue(m.typedValue);\n    setUnmaskedValue(m.unmaskedValue);\n    setValue(m.value);\n    onAccept == null ? void 0 : onAccept(m.value, m, event);\n  }, [onAccept]);\n  const _onComplete = useCallback(() => maskRef.current && (onComplete == null ? void 0 : onComplete(maskRef.current.value, maskRef.current)), [onComplete]);\n  useEffect(() => {\n    const el = ref.current;\n    if (!el || !(opts != null && opts.mask)) return _destroyMask();\n    const mask = maskRef.current;\n    if (!mask) {\n      if (el && opts != null && opts.mask) {\n        maskRef.current = IMask(el, opts);\n        _onAccept();\n      }\n    } else {\n      mask == null ? void 0 : mask.updateOptions(opts); // TODO fix no idea\n    }\n\n    setInitialized(Boolean(maskRef.current));\n  }, [opts, _destroyMask, _onAccept]);\n  useEffect(() => {\n    if (!maskRef.current) return;\n    const mask = maskRef.current;\n    mask.on('accept', _onAccept);\n    mask.on('complete', _onComplete);\n    return () => {\n      mask.off('accept', _onAccept);\n      mask.off('complete', _onComplete);\n    };\n  }, [_onAccept, _onComplete]);\n  useEffect(() => {\n    const {\n      value: lastAcceptValue,\n      ...state\n    } = lastAcceptState;\n    const mask = maskRef.current;\n    if (mask && initialized) {\n      if (lastAcceptValue !== value) mask.value = value;\n      setLastAcceptState(state);\n    }\n  }, [value]);\n  useEffect(() => {\n    const {\n      unmaskedValue: lastAcceptUnmaskedValue,\n      ...state\n    } = lastAcceptState;\n    const mask = maskRef.current;\n    if (mask && initialized) {\n      if (lastAcceptUnmaskedValue !== unmaskedValue) mask.unmaskedValue = unmaskedValue;\n      setLastAcceptState(state);\n    }\n  }, [unmaskedValue]);\n  useEffect(() => {\n    const {\n      typedValue: lastAcceptTypedValue,\n      ...state\n    } = lastAcceptState;\n    const mask = maskRef.current;\n    if (mask && initialized) {\n      if (lastAcceptTypedValue !== typedValue) mask.typedValue = typedValue;\n      setLastAcceptState(state);\n    }\n  }, [typedValue]);\n  useEffect(() => _destroyMask, [_destroyMask]);\n  return {\n    ref,\n    maskRef,\n    value,\n    setValue,\n    unmaskedValue,\n    setUnmaskedValue,\n    typedValue,\n    setTypedValue\n  };\n}\n\nexport { useIMask as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}